<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Complete your Form 1040 U.S. Individual Income Tax Return with TaxEasy's modern interface">
    <meta name="keywords" content="form 1040, tax return, income tax, IRS">
    <meta name="theme-color" content="#007bff">
    <title>Form 1040 - U.S. Individual Income Tax Return | TaxEasy</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <header class="header" role="banner">
            <div class="header__content">
                <h1 class="header__logo">
                    <a href="../index.html" style="color: inherit; text-decoration: none;">TaxEasy</a>
                </h1>
                <nav class="header__nav" role="navigation" aria-label="Main navigation">
                    <ul class="nav-list">
                        <li><a href="../index.html" class="nav-link">Home</a></li>
                        <li><a href="../index.html#tax-forms" class="nav-link nav-link--active">Tax Forms</a></li>
                        <li><a href="../components/help.html" class="nav-link">Help</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <main class="main-content" role="main">
            <div class="container">
                <!-- Form Header -->
                <section class="section">
                    <div class="section__header">
                        <h1 class="section__title">Form 1040</h1>
                        <p class="section__subtitle">U.S. Individual Income Tax Return for 2024</p>
                    </div>
                </section>

                <!-- Form Content -->
                <section class="section">
                    <form id="form1040" class="tax-form" method="post" aria-label="Form 1040 Tax Return">
                        <!-- Personal Information -->
                        <div class="card">
                            <div class="card__header">
                                <h2 class="card__title">Personal Information</h2>
                            </div>
                            <div class="card__content">
                                <div class="grid grid--2">
                                    <div class="form-group">
                                        <label for="firstName" class="required">First Name</label>
                                        <input type="text" id="firstName" name="firstName" required aria-required="true" placeholder="Enter your first name">
                                    </div>
                                    <div class="form-group">
                                        <label for="lastName" class="required">Last Name</label>
                                        <input type="text" id="lastName" name="lastName" required aria-required="true" placeholder="Enter your last name">
                                    </div>
                                    <div class="form-group">
                                        <label for="ssn" class="required">Social Security Number</label>
                                        <input type="text" id="ssn" name="ssn" required aria-required="true" placeholder="000-00-0000" pattern="[0-9]{3}-[0-9]{2}-[0-9]{4}" maxlength="11">
                                    </div>
                                    <div class="form-group">
                                        <label for="filingStatus" class="required">Filing Status</label>
                                        <select id="filingStatus" name="filingStatus" required aria-required="true">
                                            <option value="">Select filing status</option>
                                            <option value="single">Single</option>
                                            <option value="marriedJointly">Married Filing Jointly</option>
                                            <option value="marriedSeparately">Married Filing Separately</option>
                                            <option value="headOfHousehold">Head of Household</option>
                                            <option value="qualifyingWidow">Qualifying Widow(er)</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="address">Address</label>
                                    <input type="text" id="address" name="address" placeholder="Enter your street address">
                                </div>
                                <div class="grid grid--3">
                                    <div class="form-group">
                                        <label for="city">City</label>
                                        <input type="text" id="city" name="city" placeholder="Enter city">
                                    </div>
                                    <div class="form-group">
                                        <label for="state">State</label>
                                        <select id="state" name="state">
                                            <option value="">Select state</option>
                                            <option value="AL">Alabama</option>
                                            <option value="AK">Alaska</option>
                                            <option value="AZ">Arizona</option>
                                            <option value="AR">Arkansas</option>
                                            <option value="CA">California</option>
                                            <!-- Add more states as needed -->
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="zipCode">ZIP Code</label>
                                        <input type="text" id="zipCode" name="zipCode" placeholder="00000" pattern="[0-9]{5}(-[0-9]{4})?" maxlength="10">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Income Section -->
                        <div class="card">
                            <div class="card__header">
                                <h2 class="card__title">Income</h2>
                            </div>
                            <div class="card__content">
                                <div class="grid grid--2">
                                    <div class="form-group">
                                        <label for="wages">Wages, salaries, tips (Line 1a)</label>
                                        <input type="number" id="wages" name="wages" step="0.01" min="0" placeholder="0.00">
                                    </div>
                                    <div class="form-group">
                                        <label for="federalIncomeTaxWithheld">Federal income tax withheld (Line 1b)</label>
                                        <input type="number" id="federalIncomeTaxWithheld" name="federalIncomeTaxWithheld" step="0.01" min="0" placeholder="0.00">
                                    </div>
                                    <div class="form-group">
                                        <label for="interestIncome">Taxable interest (Line 2a)</label>
                                        <input type="number" id="interestIncome" name="interestIncome" step="0.01" min="0" placeholder="0.00">
                                    </div>
                                    <div class="form-group">
                                        <label for="dividendIncome">Ordinary dividends (Line 3a)</label>
                                        <input type="number" id="dividendIncome" name="dividendIncome" step="0.01" min="0" placeholder="0.00">
                                    </div>
                                    <div class="form-group">
                                        <label for="businessIncome">Business income (Line 8a)</label>
                                        <input type="number" id="businessIncome" name="businessIncome" step="0.01" placeholder="0.00">
                                    </div>
                                    <div class="form-group">
                                        <label for="otherIncome">Other income (Line 8z)</label>
                                        <input type="number" id="otherIncome" name="otherIncome" step="0.01" placeholder="0.00">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="totalIncome" class="calculated-field">Total Income (Line 9)</label>
                                    <input type="number" id="totalIncome" name="totalIncome" step="0.01" readonly class="calculated" aria-describedby="income-help">
                                    <small id="income-help" class="form-help">This field is calculated automatically</small>
                                </div>
                            </div>
                        </div>

                        <!-- Deductions Section -->
                        <div class="card">
                            <div class="card__header">
                                <h2 class="card__title">Deductions</h2>
                            </div>
                            <div class="card__content">
                                <div class="form-group">
                                    <fieldset>
                                        <legend class="form-legend">Deduction Type</legend>
                                        <div class="radio-group">
                                            <label class="radio-label">
                                                <input type="radio" name="deductionType" value="standard" checked>
                                                <span class="radio-custom"></span>
                                                Standard Deduction
                                            </label>
                                            <label class="radio-label">
                                                <input type="radio" name="deductionType" value="itemized">
                                                <span class="radio-custom"></span>
                                                Itemized Deductions (Schedule A)
                                            </label>
                                        </div>
                                    </fieldset>
                                </div>
                                <div class="form-group">
                                    <label for="standardDeduction" class="calculated-field">Standard Deduction (Line 12a)</label>
                                    <input type="number" id="standardDeduction" name="standardDeduction" step="0.01" readonly class="calculated">
                                </div>
                                <div class="form-group">
                                    <label for="adjustedGrossIncome" class="calculated-field">Adjusted Gross Income (Line 11)</label>
                                    <input type="number" id="adjustedGrossIncome" name="adjustedGrossIncome" step="0.01" readonly class="calculated">
                                </div>
                                <div class="form-group">
                                    <label for="taxableIncome" class="calculated-field">Taxable Income (Line 15)</label>
                                    <input type="number" id="taxableIncome" name="taxableIncome" step="0.01" readonly class="calculated">
                                </div>
                            </div>
                        </div>

                        <!-- Tax Calculation Section -->
                        <div class="card">
                            <div class="card__header">
                                <h2 class="card__title">Tax Calculation</h2>
                            </div>
                            <div class="card__content">
                                <div class="grid grid--2">
                                    <div class="form-group">
                                        <label for="taxOwed" class="calculated-field">Tax (Line 16)</label>
                                        <input type="number" id="taxOwed" name="taxOwed" step="0.01" readonly class="calculated">
                                    </div>
                                    <div class="form-group">
                                        <label for="totalTaxWithheld" class="calculated-field">Total Tax Withheld (Line 25a)</label>
                                        <input type="number" id="totalTaxWithheld" name="totalTaxWithheld" step="0.01" readonly class="calculated">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="refundOrOwed" class="calculated-field result-field">Refund or Amount Owed</label>
                                    <input type="number" id="refundOrOwed" name="refundOrOwed" step="0.01" readonly class="calculated result">
                                    <div id="refundStatus" class="result-status"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Form Actions -->
                        <div class="card">
                            <div class="card__content">
                                <div class="form-actions">
                                    <button type="button" class="btn btn--secondary" onclick="calculateTax()">Calculate Tax</button>
                                    <button type="button" class="btn btn--primary" onclick="saveForm()">Save Form</button>
                                    <button type="submit" class="btn btn--primary">Submit Return</button>
                                    <button type="button" class="btn btn--secondary" onclick="printForm()">Print Form</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </section>
            </div>
        </main>

        <footer class="footer" role="contentinfo">
            <div class="container">
                <div class="footer__content">
                    <p>&copy; 2025 TaxEasy. All rights reserved.</p>
                    <nav class="footer__nav" aria-label="Footer navigation">
                        <a href="../index.html">Home</a>
                        <a href="../components/help.html">Support</a>
                    </nav>
                </div>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script type="module" src="../app.js"></script>
    <script type="module" src="../tax-calculator.js"></script>
    <script>
        // Form-specific JavaScript for 1040
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('form1040');
            const incomeFields = ['wages', 'interestIncome', 'dividendIncome', 'businessIncome', 'otherIncome'];
            
            // Auto-calculate total income
            function calculateTotalIncome() {
                let total = 0;
                incomeFields.forEach(field => {
                    const value = parseFloat(document.getElementById(field).value) || 0;
                    total += value;
                });
                document.getElementById('totalIncome').value = total.toFixed(2);
                calculateAGI();
            }
            
            // Calculate Adjusted Gross Income
            function calculateAGI() {
                const totalIncome = parseFloat(document.getElementById('totalIncome').value) || 0;
                document.getElementById('adjustedGrossIncome').value = totalIncome.toFixed(2);
                calculateTaxableIncome();
            }
            
            // Calculate taxable income
            function calculateTaxableIncome() {
                const agi = parseFloat(document.getElementById('adjustedGrossIncome').value) || 0;
                const standardDed = parseFloat(document.getElementById('standardDeduction').value) || 0;
                const taxableIncome = Math.max(0, agi - standardDed);
                document.getElementById('taxableIncome').value = taxableIncome.toFixed(2);
            }
            
            // Set standard deduction based on filing status
            function setStandardDeduction() {
                const filingStatus = document.getElementById('filingStatus').value;
                let standardDeduction = 0;
                
                switch(filingStatus) {
                    case 'single':
                        standardDeduction = 13850;
                        break;
                    case 'marriedJointly':
                        standardDeduction = 27700;
                        break;
                    case 'marriedSeparately':
                        standardDeduction = 13850;
                        break;
                    case 'headOfHousehold':
                        standardDeduction = 20800;
                        break;
                    case 'qualifyingWidow':
                        standardDeduction = 27700;
                        break;
                }
                
                document.getElementById('standardDeduction').value = standardDeduction.toFixed(2);
                calculateTaxableIncome();
            }
            
            // Add event listeners
            incomeFields.forEach(field => {
                document.getElementById(field).addEventListener('input', calculateTotalIncome);
            });
            
            document.getElementById('filingStatus').addEventListener('change', setStandardDeduction);
            
            // Global functions for buttons
            window.calculateTax = function() {
                // This would integrate with the tax calculator
                console.log('Calculating tax...');
            };
            
            window.saveForm = function() {
                // Save form data to localStorage or send to server
                console.log('Saving form...');
            };
            
            window.printForm = function() {
                window.print();
            };
        });
    </script>
</body>
</html>